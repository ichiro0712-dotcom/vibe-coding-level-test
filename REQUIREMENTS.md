# バイブコーディング レベル診断サイト 要件定義書

## 📌 プロジェクト概要
バイブコーディングの会の参加者が、自身のAI活用レベルを診断できるWebサイト

## 🎯 主要機能

### 1. レベル分類（V0-V9）
- V0：オブザーバー（Observer）
- V1：リスナー（Listener）
- V2：プレイヤー（Player）
- V3：チューナー（Tuner）
- V4：スクリプター（Scripter）
- V5：アレンジャー（Arranger）
- V6：ストラクチャラー（Structurer）
- V7：コンダクター（Conductor）
- V8：アーキテクト（Architect）
- V9：バイブアルケミスト（Vibe Alchemist）

### 2. 診断フロー（適応型）

#### 第1フェーズ：初期スクリーニング（5問）
- 大まかなレベル帯を判定
- 0-5点 → 初級ルート（V0-V3）
- 6-10点 → 中級ルート（V4-V6）
- 11-15点 → 上級ルート（V7-V9）

#### 第2フェーズ：詳細診断（15問）
- 第1フェーズで判定されたルートに応じた質問
- より精確なレベル診断

#### 結果表示
- 判定されたレベル（V0-V9）
- レベルの説明
- Gemini AIからの個別アドバイス

### 3. 回答形式
全質問共通：4段階評価
- はい（3点）
- ややはい（2点）
- ややいいえ（1点）
- いいえ（0点）

### 4. 質問管理機能
- 質問の追加・編集・削除
- 質問ごとの重み付け設定
- ルート別質問の管理
- スコア範囲の調整

## 🛠 技術スタック

### フロントエンド
- HTML5
- CSS3（カスタムCSS）
- Vanilla JavaScript

### バックエンド
- Node.js + Express（簡易APIサーバー）
- Gemini API連携

### ホスティング
- Netlify
- Netlify Functions（サーバーレス関数でAPI Key保護）

## 🎨 デザイン仕様

### カラースキーム
- **メインカラー**: 黄色（#FFD700, #FFC107）
- **アクセントカラー**: 黒（#000000, #1a1a1a）
- **背景**: 白（#FFFFFF）、グレー（#F5F5F5, #E0E0E0, #9E9E9E）

### デザインコンセプト
- シンプルでモダン
- 視認性の高いコントラスト
- レスポンシブデザイン（PC/タブレット/スマホ対応）

## 📊 スコアリングロジック

### 第1フェーズ（初期5問）
各質問：0-3点
合計：0-15点
- 0-5点 → 初級ルート
- 6-10点 → 中級ルート
- 11-15点 → 上級ルート

### 第2フェーズ（詳細15問）
各質問：0-3点 × 重み係数
合計：0-45点（重み係数1.0の場合）

### 最終レベル判定

#### 初級ルート（V0-V3）
- 0-11点: V0
- 12-22点: V1
- 23-33点: V2
- 34-45点: V3

#### 中級ルート（V4-V6）
- 0-15点: V4
- 16-30点: V5
- 31-45点: V6

#### 上級ルート（V7-V9）
- 0-15点: V7
- 16-30点: V8
- 31-45点: V9

## 🤖 Gemini API連携

### 送信データ
- ユーザーの判定レベル
- 第1フェーズのスコア
- 第2フェーズの全回答
- 選択されたルート

### AIプロンプト
```
ユーザーはバイブコーディングレベル診断で「{レベル名}」と判定されました。

第1フェーズスコア: {点数}点（{ルート}選択）
第2フェーズ詳細: {回答サマリー}

このユーザーの現在地と強み・弱みを分析し、次のステップとして具体的に取り組むべきアクションを3つ、200-300字で提案してください。
```

### レスポンス
- AIからの個別アドバイス（200-300字）

## 🔒 セキュリティ

### API Key管理
- Gemini API Keyは環境変数で管理
- Netlify Functionsで保護
- クライアント側には公開しない

### データ保護
- ユーザーの回答データは一時的に保持（セッション単位）
- 永続化しない（プライバシー保護）

## 📁 ファイル構成

```
/ranktest
├── index.html              # トップページ（診断開始）
├── test.html               # 診断テストページ
├── result.html             # 結果表示ページ
├── admin.html              # 質問管理ページ
├── css/
│   └── style.css          # 共通スタイル
├── js/
│   ├── test.js            # 診断ロジック
│   ├── result.js          # 結果表示ロジック
│   ├── admin.js           # 質問管理ロジック
│   └── questions.js       # 質問データ（JSON管理）
├── netlify/
│   └── functions/
│       └── gemini.js      # Gemini API呼び出し
├── data/
│   └── questions.json     # 質問データストレージ
├── netlify.toml           # Netlify設定
├── package.json           # 依存関係
└── REQUIREMENTS.md        # 本ファイル
```

## 🚀 デプロイメント

### Netlify設定
- ビルドコマンド: なし（静的サイト）
- 公開ディレクトリ: `/`
- 環境変数: `GEMINI_API_KEY`
- Functions: `netlify/functions`

## ✅ 実装チェックリスト

- [ ] プロジェクト構成のセットアップ
- [ ] 質問データの作成（questions.json）
- [ ] 質問管理ページ（admin.html）
- [ ] 診断テストページ（test.html）
  - [ ] 第1フェーズ（5問）
  - [ ] 第2フェーズ（15問・適応型）
  - [ ] プログレスバー
- [ ] スコアリングロジック
- [ ] Gemini API連携（Netlify Functions）
- [ ] 結果表示ページ（result.html）
- [ ] デザイン適用（黄色・黒・白・グレー）
- [ ] レスポンシブ対応
- [ ] Netlifyデプロイ設定

## 📝 備考

- 質問内容や重み付けは後から変更可能
- スコア範囲も質問管理ページで調整可能
- デザインは後から調整可能（カスタムCSSで柔軟に対応）
